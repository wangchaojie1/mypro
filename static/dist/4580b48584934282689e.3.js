(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{101:function(t,e,n){"use strict";var i=n(72);n.n(i).a},102:function(t,e,n){(t.exports=n(11)(!1)).push([t.i,".news_list_container {\n  background: #ffffff;\n  width: 96%;\n  margin: 15px auto;\n}\n",""])},104:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"news_list_container"},[t.newsListShowFlag?n("news-list-change",{attrs:{news:t.changedNews}}):t._e(),t._v(" "),t.newsViewShowFlag?n("news-view",{attrs:{newsHtml:t.viewsNews}}):t._e(),t._v(" "),n("el-form",{attrs:{"label-width":"120px"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"新闻标题",size:"small"}},[n("el-input",{model:{value:t.queryItem.title,callback:function(e){t.$set(t.queryItem,"title",e)},expression:"queryItem.title"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"内容",size:"small"}},[n("el-input",{model:{value:t.queryItem.content,callback:function(e){t.$set(t.queryItem,"content",e)},expression:"queryItem.content"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:8}})],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{prop:"beginTime",size:"small",label:"时间：从"}},[n("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.queryItem.beginTime,callback:function(e){t.$set(t.queryItem,"beginTime",e)},expression:"queryItem.beginTime"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{prop:"endTime",size:"small",label:"至"}},[n("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.queryItem.endTime,callback:function(e){t.$set(t.queryItem,"endTime",e)},expression:"queryItem.endTime"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{prop:"imgSrc",size:"small"}},[n("el-button",{on:{click:function(e){return t.query_news_list(1)}}},[t._v("查询")]),t._v(" "),n("el-button",{on:{click:t.addNews}},[t._v("添加")])],1)],1)],1)],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],attrs:{data:t.newsList}},[n("el-table-column",{attrs:{label:"时间",prop:"creationTimestamp"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v("\n          "+t._s(t.formatDate(e.row.creationTimestamp,"yyyy-MM-dd HH:mm:ss"))+"\n        ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"标题",prop:"title"}}),t._v(" "),n("el-table-column",{attrs:{label:"内容",prop:"content"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击预览新闻内容",placement:"top"}},[n("img",{staticStyle:{height:"21px",padding:"0 10px",cursor:"pointer"},attrs:{alt:"点击预览内容",src:t.seeJpg},on:{click:function(n){return t.viewNews(e.row.content)}}})])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"封面图片",prop:"titleImg"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.titleImg}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("img",{staticStyle:{height:"18px",cursor:"pointer"},attrs:{src:t.deletePng},on:{click:function(n){return t.deleteNews(e.row)}}}),t._v(" "),n("img",{staticStyle:{height:"21px",padding:"0 10px",cursor:"pointer"},attrs:{src:t.cutJpg}}),t._v(" "),n("img",{staticStyle:{height:"18px",cursor:"pointer"},attrs:{src:t.dealJpg},on:{click:function(n){return t.changeNews(e.row)}}})]}}])})],1),t._v(" "),n("el-pagination",{key:"boardContent",staticStyle:{float:"right"},attrs:{layout:"prev, pager, next, total",total:t.total},on:{"prev-click":function(e){return t.query_news_list(e)},"next-click":function(e){return t.query_news_list(e)},"current-change":function(e){return t.query_news_list(e)}}})],1)};i._withStripped=!0;n(93);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{staticClass:"news_add",attrs:{title:"新闻增加",visible:t.newsListChangeShowFlag,width:"1000px"},on:{close:function(e){return t.changeNewsListChangeShowFlag(!1)},"update:visible":function(e){t.newsListChangeShowFlag=e}}},[n("el-form",{attrs:{"label-width":"150px"}},[n("el-form-item",{attrs:{label:"新闻标题：",size:"small"}},[n("el-input",{model:{value:t.newsEntity.title,callback:function(e){t.$set(t.newsEntity,"title",e)},expression:"newsEntity.title"}})],1),t._v(" "),n("el-form-item",{attrs:{size:"small",label:"图片："}},[n("el-upload",{ref:"upload",staticStyle:{"text-align":"center"},attrs:{action:"","show-file-list":!1,"on-change":t.listChange,"auto-upload":!1}},[t.newsEntity.titleImg?n("img",{staticClass:"avatar",staticStyle:{width:"50%"},attrs:{src:"string"==typeof t.newsEntity.titleImg?t.newsEntity.titleImg:t.URL.createObjectURL(t.newsEntity.titleImg.raw)}}):n("div",[n("i",{staticClass:"el-icon-upload"}),t._v(" "),n("div",{staticClass:"el-upload__text"},[t._v("\n            将文件拖到此处，或"),n("em",[t._v("点击上传")])]),t._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("\n            一次上传一张，只支持处理过后的透明png图片\n          ")])])])],1),t._v(" "),n("el-form-item",{attrs:{label:"内容：",size:"small"}},[n("quill-editor",{ref:"myQuillEditor",attrs:{options:t.editorOption},on:{blur:function(e){return t.onEditorBlur(e)},focus:function(e){return t.onEditorFocus(e)},ready:function(e){return t.onEditorReady(e)}},model:{value:t.newsEntity.content,callback:function(e){t.$set(t.newsEntity,"content",e)},expression:"newsEntity.content"}})],1)],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(e){return t.changeNewsListChangeShowFlag(!1)}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{size:"small",loading:t.uploadLoading,type:"primary"},on:{click:t.submitNews}},[t._v("提 交")])],1)],1)};s._withStripped=!0;var a={name:"newListChange",data:function(){return{newsListChangeShowFlag:!0,URL:URL,editorOption:{},newsEntity:this.$props.news||{id:"",title:"",titleImg:"",content:""},uploadLoading:!1}},props:["news"],methods:{changeNewsListChangeShowFlag:function(t){this.$parent.changeNewsListChangeShowFlag(t)},onEditorBlur:function(t){console.log("editor blur!",t)},onEditorFocus:function(t){console.log("editor focus!",t)},onEditorReady:function(t){console.log("editor ready!",t)},listChange:function(t){if(t.size>1e5)return this.$notify({message:"封面图片过大",type:"warning"}),void this.$refs.upload.uploadFiles.pop();this.newsEntity.titleImg=t},submitNews:function(){var t=this;if(this.newsEntity.titleImg)if(this.newsEntity.title)if(this.newsEntity.content){var e=new FormData;e.append("title",this.newsEntity.title),e.append("content",this.newsEntity.content),e.append("id",this.newsEntity.id),e.append("file","string"!=typeof this.newsEntity.titleImg?this.newsEntity.titleImg.raw:this.newsEntity.titleImg),this.uploadLoading=!0,this.$rq.changeNews(e).then((function(e){e&&(t.$message("添加成功"),t.changeNewsListChangeShowFlag(!1),t.$parent.query_news_list(),t.uploadLoading=!1)})).catch((function(e){console.log(e),t.uploadLoading=!1}))}else this.$notify({message:"新闻内容为空",type:"warning"});else this.$notify({message:"请输入新闻标题",type:"warning"});else this.$notify({message:"请上传封面图片图片",type:"warning"})}},components:{quillEditor:n(94).quillEditor}},l=n(17),o=Object(l.a)(a,s,[],!1,null,null,null);o.options.__file="houtai/components/news/news_list_change.vue";var r=o.exports,c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{staticClass:"news_add",attrs:{title:"新闻预览",visible:t.newsViewShowFlag,width:"1000px"},on:{close:function(e){return t.changeNewsViewChangeShowFlag(!1)},"update:visible":function(e){t.newsViewShowFlag=e}}},[n("div",{staticClass:"ql-editor",domProps:{innerHTML:t._s(t.newsHtml)}})])};c._withStripped=!0;var u={name:"newsView",data:function(){return{newsViewShowFlag:!0}},props:["newsHtml"],methods:{changeNewsViewChangeShowFlag:function(t){this.$parent.changeNewsViewChangeShowFlag(t)}}},w=Object(l.a)(u,c,[],!1,null,null,null);w.options.__file="houtai/components/news/news_view.vue";var g=w.exports,p=n(63),d=n.n(p),h=n(67),m=n.n(h),f=n(68),y=n.n(f),_=n(69),v=n.n(_),b={name:"newsList",data:function(){return{deletePng:d.a,dealJpg:m.a,cutJpg:y.a,seeJpg:v.a,newsListShowFlag:!1,newsViewShowFlag:!1,tableLoading:!1,queryItem:{title:"",content:"",beginTime:"",endTime:"",page:1},newsList:[],total:0,viewsNews:"",changedNews:""}},methods:{query_news_list:function(){var t=this,e={title:this.queryItem.title,content:this.queryItem.content,beginTime:this.queryItem.beginTime||new Date(0),endTime:this.queryItem.endTime||new Date,page:this.queryItem.page,perpage:10};this.$rq.getNewsList(e).then((function(e){console.log(e),t.newsList=e.data,t.total=e.total,t.tableLoading=!1}))},changeNewsViewChangeShowFlag:function(t){this.newsViewShowFlag=t},changeNewsListChangeShowFlag:function(t){this.newsListShowFlag=t},deleteNews:function(t){var e=this,n={id:t.id};this.$confirm("确认删除该条新闻?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$rq.deleteNews(n).then((function(t){t&&(e.$message("删除成功"),e.query_news_list(1))})).catch((function(t){e.$message("删除失败")}))})).catch((function(){}))},changeNews:function(t){this.changedNews=t,this.changeNewsListChangeShowFlag(!0)},viewNews:function(t){this.viewsNews=t,this.changeNewsViewChangeShowFlag(!0)},addNews:function(){this.changedNews="",this.changeNewsListChangeShowFlag(!0)},formatDate:function(t,e){e||(e="yyyy-MM-dd");var n={yyyy:(t=new Date(t)).getFullYear(),M:t.getMonth()+1,d:t.getDate(),H:t.getHours(),m:t.getMinutes(),s:t.getSeconds(),MM:(""+(t.getMonth()+101)).substr(1),dd:(""+(t.getDate()+100)).substr(1),HH:(""+(t.getHours()+100)).substr(1),mm:(""+(t.getMinutes()+100)).substr(1),ss:(""+(t.getSeconds()+100)).substr(1)};return e.replace(/(yyyy|MM?|dd?|HH?|ss?|mm?)/g,(function(){return n[arguments[0]]}))}},mounted:function(){this.query_news_list()},components:{newsListChange:r,newsView:g}},S=(n(101),Object(l.a)(b,i,[],!1,null,null,null));S.options.__file="houtai/components/news/news_list.vue";e.default=S.exports},72:function(t,e,n){var i=n(102);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(12).default)("d458a4e6",i,!1,{})},97:function(t,e,n){t.exports=n(3)(1)}}]);